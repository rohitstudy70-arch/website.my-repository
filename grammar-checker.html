<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grammar Checker - FileForge</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        .converter-container {
            max-width: 1000px;
            margin: 40px auto;
            padding: 30px;
            background: #12151a;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(66, 248, 245, 0.3);
            width: 90%;
        }

        .editor-container {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .editor-container {
                flex-direction: column;
            }
        }

        .text-area {
            flex: 1;
            min-height: 400px;
            padding: 15px;
            background: #1c222d;
            border: 1px solid #42f8f5;
            color: #e0e0e0;
            border-radius: 8px;
            font-family: 'Arial', sans-serif;
            font-size: 16px;
            line-height: 1.5;
            resize: vertical;
        }

        .text-area:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(66, 248, 245, 0.3);
        }

        .suggestions-panel {
            flex: 1;
            background: rgba(66, 248, 245, 0.05);
            border-radius: 8px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .suggestion-item {
            background: #1c222d;
            border: 1px solid #42f8f5;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .suggestion-type {
            color: #42f8f5;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .suggestion-text {
            color: #e0e0e0;
            margin-bottom: 10px;
        }

        .suggestion-correction {
            color: #42f8f5;
            font-weight: bold;
        }

        .action-btn {
            background: transparent;
            color: #42f8f5;
            border: 2px solid #42f8f5;
            padding: 12px 30px;
            font-size: 1.1em;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
            font-family: 'Orbitron', sans-serif;
        }

        .action-btn:hover {
            background: #42f8f5;
            color: #12151a;
            box-shadow: 0 0 15px rgba(66, 248, 245, 0.5);
        }

        .button-group {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 15px;
            background: rgba(66, 248, 245, 0.05);
            border-radius: 8px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .stat-item {
            text-align: center;
            min-width: 120px;
        }

        .stat-label {
            color: #42f8f5;
            font-size: 0.9em;
        }

        .stat-value {
            color: #e0e0e0;
            font-size: 1.2em;
            font-weight: bold;
        }

        .loading {
            text-align: center;
            color: #42f8f5;
            margin: 20px 0;
            display: none;
        }

        .loading.active {
            display: block;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading::after {
            content: "‚ö°";
            display: inline-block;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <!-- üîπ Navbar -->
    <header class="navbar">
        <div class="logo">‚ö°FileForge ‚Äì All-in-One Converter</div>
        <nav class="nav-links">
            <a href="index.html">Home</a>
            <a href="index.html#tools">Tools</a>
            <a href="index.html#about">About</a>
            <a href="index.html#contact">Contact</a>
        </nav>
        <div class="hamburger">‚ò∞</div>
    </header>

    <div class="converter-container">
        <h1 style="color: #42f8f5; text-align: center; margin-bottom: 30px;">Grammar Checker</h1>

        <div class="editor-container">
            <textarea id="textInput" class="text-area" placeholder="Enter your text here to check grammar and spelling..."></textarea>
            
            <div class="suggestions-panel" id="suggestionsPanel">
                <div style="color: #42f8f5; text-align: center;">
                    Your grammar suggestions will appear here
                </div>
            </div>
        </div>

        <div class="stats">
            <div class="stat-item">
                <div class="stat-label">Words</div>
                <div class="stat-value" id="wordCount">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Characters</div>
                <div class="stat-value" id="charCount">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Sentences</div>
                <div class="stat-value" id="sentenceCount">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Issues Found</div>
                <div class="stat-value" id="issueCount">0</div>
            </div>
        </div>

        <div class="loading" id="loading">Checking your text...</div>

        <div class="button-group">
            <button id="checkButton" class="action-btn">‚úîÔ∏è Check Grammar</button>
            <button id="clearButton" class="action-btn">üóëÔ∏è Clear Text</button>
            <button id="copyButton" class="action-btn">üìã Copy Text</button>
        </div>
    </div>

    <script>
        const textInput = document.getElementById('textInput');
        const suggestionsPanel = document.getElementById('suggestionsPanel');
        const checkButton = document.getElementById('checkButton');
        const clearButton = document.getElementById('clearButton');
        const copyButton = document.getElementById('copyButton');
        const loading = document.getElementById('loading');
        const wordCount = document.getElementById('wordCount');
        const charCount = document.getElementById('charCount');
        const sentenceCount = document.getElementById('sentenceCount');
        const issueCount = document.getElementById('issueCount');

        // Common grammar and spelling rules
        const rules = [
            {
                type: 'Grammar',
                pattern: /\b(is|are|was|were)\s+being\s+\w+ed\b/gi,
                suggestion: 'Consider using active voice instead of passive voice'
            },
            {
                type: 'Spelling',
                pattern: /\b(teh|thier|recieve|seperate|definate|occured)\b/gi,
                corrections: {
                    'teh': 'the',
                    'thier': 'their',
                    'recieve': 'receive',
                    'seperate': 'separate',
                    'definate': 'definite',
                    'occured': 'occurred'
                }
            },
            {
                type: 'Grammar',
                pattern: /\b(me|him|her|them)\s+and\s+(I|he|she|they)\b/gi,
                suggestion: 'The subject pronoun should come first'
            },
            {
                type: 'Grammar',
                pattern: /\b(its|your|their)\s+(\w+ing|\w+ed)\b/gi,
                check: (match) => {
                    return ["it's", "you're", "they're"].includes(match[1].toLowerCase());
                },
                suggestion: "Check if you meant the contraction (it's, you're, they're) instead of the possessive form"
            },
            {
                type: 'Style',
                pattern: /\b(very|really|extremely|basically|actually)\b/gi,
                suggestion: 'Consider using a stronger word instead of this qualifier'
            },
            {
                type: 'Grammar',
                pattern: /\b(less)\s+\w+s\b/gi,
                suggestion: 'Use "fewer" for countable nouns'
            },
            {
                type: 'Punctuation',
                pattern: /\s+[,.!?]|[,.!?]\S/g,
                suggestion: 'There should be no space before and one space after punctuation marks'
            },
            {
                type: 'Grammar',
                pattern: /\b(I|he|she|it|we|they)\s+\w+s\b/gi,
                suggestion: 'Check subject-verb agreement'
            }
        ];

        // Update statistics
        function updateStats() {
            const text = textInput.value;
            const words = text.trim().split(/\s+/).filter(word => word.length > 0);
            const sentences = text.split(/[.!?]+/).filter(sent => sent.trim().length > 0);
            
            wordCount.textContent = words.length;
            charCount.textContent = text.length;
            sentenceCount.textContent = sentences.length;
        }

        // Check grammar and spelling
        function checkGrammar() {
            const text = textInput.value;
            if (!text.trim()) {
                alert('Please enter some text to check');
                return;
            }

            loading.classList.add('active');
            suggestionsPanel.innerHTML = '';
            let suggestions = [];
            let issuesFound = 0;

            // Check text against each rule
            rules.forEach(rule => {
                const matches = [...text.matchAll(rule.pattern)];
                
                matches.forEach(match => {
                    if (rule.check && !rule.check(match)) return;
                    
                    let suggestion = {
                        type: rule.type,
                        text: match[0],
                        correction: rule.corrections ? 
                            rule.corrections[match[0].toLowerCase()] : 
                            rule.suggestion
                    };
                    
                    suggestions.push(suggestion);
                    issuesFound++;
                });
            });

            // Display suggestions
            if (suggestions.length > 0) {
                suggestions.forEach(suggestion => {
                    const div = document.createElement('div');
                    div.className = 'suggestion-item';
                    div.innerHTML = `
                        <div class="suggestion-type">${suggestion.type}</div>
                        <div class="suggestion-text">"${suggestion.text}"</div>
                        <div class="suggestion-correction">${suggestion.correction}</div>
                    `;
                    suggestionsPanel.appendChild(div);
                });
            } else {
                suggestionsPanel.innerHTML = `
                    <div style="color: #42f8f5; text-align: center;">
                        No issues found! Your text looks good.
                    </div>
                `;
            }

            issueCount.textContent = issuesFound;
            loading.classList.remove('active');
        }

        // Clear text and suggestions
        function clearText() {
            textInput.value = '';
            suggestionsPanel.innerHTML = `
                <div style="color: #42f8f5; text-align: center;">
                    Your grammar suggestions will appear here
                </div>
            `;
            updateStats();
            issueCount.textContent = '0';
        }

        // Copy text to clipboard
        async function copyText() {
            try {
                await navigator.clipboard.writeText(textInput.value);
                alert('Text copied to clipboard!');
            } catch (err) {
                alert('Failed to copy text');
                console.error('Failed to copy text:', err);
            }
        }

        // Event listeners
        textInput.addEventListener('input', updateStats);
        checkButton.addEventListener('click', checkGrammar);
        clearButton.addEventListener('click', clearText);
        copyButton.addEventListener('click', copyText);

        // Initialize
        updateStats();
    </script>
</body>
</html>
